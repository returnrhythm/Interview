## JS
### 闭包
概念：闭包时一个函数，它有权访问另一个函数作用域中的变量
### 事件循环
js是单线程的，为了防止因为一段代码阻碍后面代码的执行，会优先执行同步代码，将异步代码推入异步队列，异步队列又分为微任务和宏任务，宏任务执行事件较长，所以微任务优先执行，微任务的代表是promise的回调函数，宏任务包括setInterval，setTimeout等等，实际执行时，可能不止一个任务队列，每个任务队列有自己的优先级，但一定会有一个优先级最高的微任务队列。
#### 浏览器中的执行
1. 执行栈中的内容，遇到异步任务就把它给webAPI执行
2. webAPI完成事件，把回调函数放到队列里面（微任务放微任务队列，宏任务放宏任务队列）
3. 执行栈为空的时候，清空微任务队列
4. 微任务队列清空后，先取一个任务放到栈中执行，之后查看微任务队列是否有任务，有任务就清空微任务队列，没任务继续重复4
### 节流与防抖
#### 节流
节流是我多次触发一个事件，但是我只执行第一次，执行的时候不能再次执行，适合监听滚动事件，比如滚动到底了加载新数据，或者鼠标点击不断触发。
```js
function fn1(fn,time){
 let door=false
 return function(){
 	if(door){
 		return
	}else{
		door=true;
		setTimeout(()=>{
			fn.apply(this,arguments)
			door=false
		},time)
		
	}
 }
}
```
#### 防抖
多次触发只触发最后一次，应用于用户不断输入时，只执行最后一次请求。
```js
function fn1(fn,time){
let timeout=null
return function(){
	clearTimeout(timeout)
	timeout=setTimeout(()=>{
	fn()
	},time)
}
}
```
### 跨域
跨域：一个网页请求访问不同源（协议，端口、域）的时候就会发生跨域问题。  
解决：
1. 后端改一下响应的信息
2. 用express的话，引入cors中间件
3. 还可以使用代理服务器
4. 还可以用websocket
### 原型和原型链
每一个函数都有prototype属性，因为这个属性的值是一个对象，也被称为原型对象，它可以存放一些数据和方法，比如利用构造函数创建一个数组，可以调用数组的方法，每一个对象都有__proto__属性，这个属性指向了它的原型对象。   
原型链：每一个原型也是一个对象，只要是对象就会有__proto__属性，这个属性再次指向了它的原型对象，这样一层一层的链式结构就叫原型链了